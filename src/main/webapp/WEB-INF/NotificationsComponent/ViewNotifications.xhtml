<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://xmlns.jcp.org/jsf/core"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:p="http://primefaces.org/ui">
    <f:view>
        <h2 class="title"><h:outputText value="#{msg['Notifications']}"/></h2>
        <p:growl id="viewNotificationsGrowl" showDetail="true" sticky="false"/>

        <br/>
        <h:form id="viewNotifications">
            <p:dataTable var="notification" value="#{viewNotificationsBackingBean}"
                         selection="#{viewNotificationsBackingBean.selectedNotification}" selectionMode="single"
                         id="notificationTable"
                         rowKey="#{notification.notification_id.toString()}" lazy="true" paginator="true" rows="10"
                         rowsPerPageTemplate="5,10,15"
                         paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}">
                <p:ajax event="rowSelect" listener="#{viewNotificationsBackingBean.rowSelected}"
                        update=":viewNotifications:outputLabel"/>
                <p:column id="c1" headerText="ID" sortBy="#{notification.notification_id}" filterBy="#{notification.notification_ide}">
                    <h:outputText value="#{notification.notification_id.toString()}"/>
                </p:column>

                <p:column id="c2" headerText="TYPE" sortBy="#{notification.notificationTypeEnum}" filterBy="#{notification.notificationTypeEnum}"
                          filterMatchMode="contains">
                    <h:outputText value="#{notification.notificationTypeEnum}"/>
                </p:column>

                <p:column id="c3" headerText="MESSAGE" sortBy="#{notification.notificationMessage}" filterBy="#{notification.notificationMessage}"
                          filterMatchMode="contains">
                    <h:outputText value="#{notification.notificationMessage}" escape="false"/>
                </p:column>

                <p:column id="c4" headerText="ADDED DATE" sortBy="#{notification.addedDate}"
                          filterBy="#{notification.addedDate}"
                          filterMatchMode="contains">
                    <h:outputText value="#{notification.addedDate}"/>
                </p:column>
            </p:dataTable>
            <br/>
            <br/>
            <p:outputLabel id="outputLabel" value="#{viewNotificationsBackingBean.outputMessage}"/>

        </h:form>
    </f:view>
</ui:composition>